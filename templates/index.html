<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Discover the US Constitution</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="chat-container">
        <div class="chat-header">
            <img src="https://media.tenor.com/_31gH9b_0VsAAAAM/usa-flag-american.gif" alt="US Flag" class="flag-gif">
            <h1>Discover the US Constitution</h1>
        </div>
        <div class="chat-messages" id="chat-messages">
            <div class="message system">Welcome! Ask me anything about the US Constitution.</div>
        </div>
        <div class="chat-input">
            <form id="chat-form">
                <input type="text" id="user-input" placeholder="Type your question here..." required>
                <button type="submit">Send</button>
            </form>
        </div>
    </div>

    <script>
        const chatMessages = document.getElementById('chat-messages');
        const chatForm = document.getElementById('chat-form');
        const userInput = document.getElementById('user-input');

        // Function to add a message to the chat
        function addMessage(content, className) {
            const messageDiv = document.createElement('div');
            messageDiv.classList.add('message', className);
            messageDiv.textContent = content;
            chatMessages.appendChild(messageDiv);
            chatMessages.scrollTop = chatMessages.scrollHeight;
        }

        // Function to simulate bot response (replace with actual API call)
        async function getBotResponse(userMessage) {
            // Simulating API delay
            await new Promise(resolve => setTimeout(resolve, 1000));
            
            // Simple responses for demonstration
            const responses = {
                "hello": "Hello! I'm here to help you learn about the US Constitution. What would you like to know?",
                "amendments": "The US Constitution has 27 amendments. The first 10 are known as the Bill of Rights. Would you like to know about any specific amendment?",
                "preamble": "The Preamble begins with 'We the People of the United States, in Order to form a more perfect Union...' It outlines the fundamental purposes of the Constitution.",
                "default": "That's an interesting question about the Constitution. The document covers many topics including the structure of government, individual rights, and the amendment process. Could you be more specific about what you'd like to know?"
            };

            const lowerMessage = userMessage.toLowerCase();
            for (const [key, value] of Object.entries(responses)) {
                if (lowerMessage.includes(key)) {
                    return value;
                }
            }
            return responses.default;
        }

        // Handle form submission
        chatForm.addEventListener('submit', async (e) => {
            e.preventDefault();
            
            const message = userInput.value.trim();
            if (!message) return;

            // Add user message
            addMessage(message, 'user');
            
            // Clear input and disable form
            userInput.value = '';
            userInput.disabled = true;
            chatForm.querySelector('button').disabled = true;

            try {
                // Get bot response
                const response = await getBotResponse(message);
                addMessage(response, 'bot');
            } catch (error) {
                addMessage('Sorry, I encountered an error. Please try again.', 'error');
            } finally {
                // Re-enable form
                userInput.disabled = false;
                chatForm.querySelector('button').disabled = false;
                userInput.focus();
            }
        });

        // Focus on input when page loads
        userInput.focus();
    </script>
</body>
</html>
